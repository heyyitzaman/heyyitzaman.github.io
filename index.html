<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Aman Pandey</title>

	<link rel="stylesheet" href="css/base.css" />
	<link rel="stylesheet" href="css/layout.css" />
	<link rel="stylesheet" href="css/components.css" />
	<link rel="stylesheet" href="css/animations.css" />

</head>

<body data-page="home">

	<div class="cursor-dot" id="cursorDot"></div>

	<header class="nav">
		<div class="container nav-inner">
			<h2>Aman Pandey</h2>
			<button class="hamburger" id="hamburger">
				<span></span>
				<span></span>
			</button>

			<nav id="mobileNav">
				<a href="about.html">Journey</a>
				<a href="blog.html">Blog</a>
				<a href="diary.html">Diary</a>
				<span class="theme-toggle" id="themeToggle">â˜€ / ðŸŒ™</span>
			</nav>

		</div>
	</header>

	<!-- Floating Draggable Quotes Layer -->
	<div id="floatingQuotes"></div>

	<main class="container">
		<section>
			<h1>
				<span id="greeting"></span><br />
				Iâ€™m Aman, <span class="dynamic" id="dynamicText"></span>
			</h1>

			<p class="muted" style="max-width: 640px;">
				Iâ€™m a software engineer who enjoys slowing things down â€”
				understanding systems, learning deliberately, and writing to think clearly.
			</p>

			<div style="margin-top: 1.5rem;">
				<span class="button" onclick="location.href='about.html'">
					My journey â†’
				</span>
			</div>
		</section>

		<!-- FOCUS -->
		<section>
			<h2>What I care about</h2>

			<div class="grid grid-2">
				<div class="card">
					<h3>Engineering</h3>
					<p class="muted">
						I like backend systems, architecture, and understanding
						why things behave the way they do â€” not just making them work.
					</p>
				</div>

				<div class="card">
					<h3>Writing & reflection</h3>
					<p class="muted">
						Writing helps me notice patterns in my thinking.
						This site is a quiet place to reflect, not to perform.
					</p>
				</div>

				<div class="card">
					<h3>Learning & teaching</h3>
					<p class="muted">
						I enjoy breaking down complex ideas like system design, DSA, and Java
						into bite-sized lessons, and mentoring others along the way.
					</p>
				</div>

				<div class="card">
					<h3>Self-growth</h3>
					<p class="muted">
						I focus on reducing overthinking, building inner peace, and embracing
						steady, joyful growth while trusting my own journey.
					</p>
				</div>

				<div class="card">
					<h3>Problem-solving</h3>
					<p class="muted">
						I thrive on dissecting problems, debugging tricky issues,
						and finding elegant solutions that scale.
					</p>
				</div>

				<div class="card">
					<h3>Technology & innovation</h3>
					<p class="muted">
						Exploring new tools, frameworks, and approaches that make systems
						more efficient and secure fascinates me.
					</p>
				</div>
			</div>
		</section>

		<!-- BLOG / DIARY -->
		<section>
			<h2>How I use this space</h2>

			<div class="grid grid-2">
				<div class="card">
					<h3>Blog</h3>
					<p class="muted">
						Structured thoughts on learning, systems,
						engineering concepts, and ideas worth exploring deeply.
					</p>
					<span class="button" onclick="location.href='blog.html'">
						Read the blog â†’
					</span>
				</div>

				<div class="card">
					<h3>Diary Entry</h3>
					<p class="muted">
						Short, honest notes.
						No editing. No structure. Just moments captured as they are.
					</p>
					<span class="button" onclick="location.href='diary.html'">
						Open diary â†’
					</span>
				</div>
			</div>
		</section>

	</main>

	<footer class="container muted">
		Press <strong>B</strong> â†’ Blog Â· <strong>D</strong> â†’ Diary Â· <strong>J</strong> â†’ My Journey
	</footer>

	<script src="js/base.js" defer></script>
	<script>
		// Greeting
		const h = new Date().getHours();
		document.getElementById('greeting').textContent =
			h < 12 ? 'Good morning.' : h < 16 ? 'Good afternoon.' : 'Good evening.';

		// Dynamic text with fade
		const words = ['learning slowly', 'building systems', 'writing to think'];
		let i = 0;
		const el = document.getElementById('dynamicText');
		el.textContent = words[0];
		el.style.transition = 'opacity 0.3s ease';

		function animateWord() {
			el.style.opacity = 0;
			setTimeout(() => {
				el.textContent = words[i % words.length];
				el.style.opacity = 1;
				i++;
			}, 300);
		}
		setInterval(animateWord, 2500);

		// Keyboard shortcuts
		document.addEventListener('keydown', e => {
			if (e.key.toLowerCase() === 'b') location.href = 'blog.html';
			if (e.key.toLowerCase() === 'd') location.href = 'diary.html';
			if (e.key.toLowerCase() === 'j') location.href = 'about.html';
		});


		// Floating draggable quotes with authors
		const quotes = [
			{ text: "We are all in the gutter, but some of us are looking at the stars.", author: "Oscar Wilde" },
			{ text: "And those who were seen dancing were thought to be insane by those who could not hear the music.", author: "Friedrich Nietzsche" },
			{ text: "Art enables us to find ourselves and lose ourselves at the same time.", author: "Thomas Merton" },
			{ text: "Creativity is intelligence having fun.", author: "Albert Einstein" },
			{ text: "Programs must be written for people to read, and only incidentally for machines to execute.", author: "Harold Abelson" },
			{ text: "Good code is its own best documentation.", author: "Steve McConnell" },
			{ text: "The unexamined life is not worth living.", author: "Socrates" },
			{ text: "Your work is going to fill a large part of your life, and the only way to be truly satisfied is to do what you believe is great work.", author: "Steve Jobs" }
		];

		const floatingQuotes = document.getElementById('floatingQuotes');
		const STORAGE_KEY = 'floatingQuotesState';
		const savedState = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
		function clampPosition(x, y, el) {
			const rect = el.getBoundingClientRect();
			const margin = 20;

			return {
				x: Math.max(margin, Math.min(x, window.innerWidth - rect.width - margin)),
				y: Math.max(margin, Math.min(y, window.innerHeight - rect.height - margin))
			};
		}

		quotes.forEach((q, index) => {
			const div = document.createElement('div');
			div.className = 'floating-quote';
			div.innerHTML = `${q.text}<span class="author">â€” ${q.author}</span>`;

			const saved = savedState[index];

			const top = saved?.top ?? `${Math.random() * 70 + 10}%`;
			const left = saved?.left ?? `${Math.random() * 70 + 10}%`;
			const rotation = saved?.rotation ?? (Math.random() * 30 - 15);

			div.style.top = top;
			div.style.left = left;
			div.style.transform = `rotate(${rotation}deg)`;

			floatingQuotes.appendChild(div);

			// Touch support
			div.addEventListener('touchstart', e => {
				const touch = e.touches[0];
				const rect = div.getBoundingClientRect();

				const offsetX = touch.clientX - rect.left;
				const offsetY = touch.clientY - rect.top;

				div.style.zIndex = 3;

				function onMove(e) {
					const t = e.touches[0];
					let x = t.clientX - offsetX;
					let y = t.clientY - offsetY;

					const pos = clampPosition(x, y, div);
					div.style.left = `${pos.x}px`;
					div.style.top = `${pos.y}px`;
				}

				function onEnd() {
					div.style.zIndex = 2;
					saveState();
					document.removeEventListener('touchmove', onMove);
					document.removeEventListener('touchend', onEnd);
				}

				document.addEventListener('touchmove', onMove, { passive: false });
				document.addEventListener('touchend', onEnd);
			});
			div.onclick = e => {
				e.stopPropagation();

				document.querySelectorAll('.floating-quote').forEach(q => {
					q.classList.remove('focused', 'blur');
				});

				div.classList.add('focused');

				document.querySelectorAll('.floating-quote').forEach(q => {
					if (q !== div) q.classList.add('blur');
				});
			};


			// Theme-aware hover focus
			div.onmouseenter = () => {
				const light = document.documentElement.getAttribute('data-theme') === 'light';
				div.style.opacity = light ? '0.65' : '0.55';
			};

			div.onmouseleave = () => {
				const light = document.documentElement.getAttribute('data-theme') === 'light';
				div.style.opacity = light ? '0.45' : '0.35';
			};

			// Drag logic
			div.onmousedown = e => {
				e.preventDefault();
				div.style.zIndex = 3;

				const rect = div.getBoundingClientRect();
				const offsetX = e.clientX - rect.left;
				const offsetY = e.clientY - rect.top;
				document.body.style.userSelect = 'none';

				function onMove(e) {
					const rect = div.getBoundingClientRect();
					const margin = 20; // always-visible grab area

					let x = e.clientX - offsetX;
					let y = e.clientY - offsetY;

					// Clamp horizontally
					x = Math.max(
						margin,
						Math.min(x, window.innerWidth - rect.width - margin)
					);

					// Clamp vertically
					y = Math.max(
						margin,
						Math.min(y, window.innerHeight - rect.height - margin)
					);

					div.style.left = `${x}px`;
					div.style.top = `${y}px`;
				}

				function onUp() {
					div.style.zIndex = 2;
					saveState();
					document.body.style.userSelect = '';
					document.removeEventListener('mousemove', onMove);
					document.removeEventListener('mouseup', onUp);
				}

				document.addEventListener('mousemove', onMove);
				document.addEventListener('mouseup', onUp);
			};
			div.ondblclick = e => {
				e.stopPropagation();

				div.style.top = `${Math.random() * 70 + 10}%`;
				div.style.left = `${Math.random() * 70 + 10}%`;

				saveState();
			};
		});

		// Save positions + rotation
		function saveState() {
			const state = [...document.querySelectorAll('.floating-quote')].map(q => ({
				top: q.style.top,
				left: q.style.left,
				rotation: q.style.transform.match(/-?\d+/)?.[0] || 0
			}));
			localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
		}

		// Reflow if quote goes off-screen
		window.addEventListener('resize', () => {
			document.querySelectorAll('.floating-quote').forEach(q => {
				const r = q.getBoundingClientRect();
				if (r.right < 0 || r.bottom < 0 || r.left > window.innerWidth || r.top > window.innerHeight) {
					q.style.top = `${Math.random() * 70 + 10}%`;
					q.style.left = `${Math.random() * 70 + 10}%`;
				}
			});
			saveState();
		});
		const interactiveSelectors = 'button, .button, a';

		function updateQuoteVisibility() {
			const interactives = document.querySelectorAll(interactiveSelectors);
			const quotes = document.querySelectorAll('.floating-quote');

			quotes.forEach(q => {
				const qr = q.getBoundingClientRect();
				let overlaps = false;

				interactives.forEach(el => {
					const er = el.getBoundingClientRect();
					const overlap =
						qr.left < er.right &&
						qr.right > er.left &&
						qr.top < er.bottom &&
						qr.bottom > er.top;

					if (overlap) overlaps = true;
				});

				q.classList.toggle('dimmed', overlaps);
			});
		}

		// Run on drag, resize, and scroll
		document.addEventListener('mousemove', updateQuoteVisibility);
		window.addEventListener('resize', updateQuoteVisibility);
		window.addEventListener('scroll', updateQuoteVisibility);

		// Initial check
		updateQuoteVisibility();
		document.addEventListener('click', () => {
				document.querySelectorAll('.floating-quote').forEach(q => {
					q.classList.remove('focused', 'blur');
				});
			});

	</script>

</body>

</html>