<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diary - YourName</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/animations.css">
    <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body data-page="diary">
    <div class="scroll-progress" id="scrollProgress"></div>
    <div class="ambient-bg" aria-hidden="true"></div>
    <div class="particles" id="particles"></div>
    <div class="cursor-dot" id="cursorDot"></div>

    <header class="nav">
        <div class="container nav-inner">
            <h2>Aman Pandey</h2>
            <button class="hamburger" id="hamburger" aria-label="Toggle navigation" aria-expanded="false">
                <span></span>
                <span></span>
            </button>

            <nav id="mobileNav">
                <a href="index.html">Home</a>
                <a href="about.html">Journey</a>
                <a href="blog.html">Blog</a>
                <a href="diary.html">Diary</a>
                <span class="live-clock" id="liveClock" style="font-variant-numeric: tabular-nums; opacity: 0.8; font-size: 0.9rem; margin-right: 0.5rem;"></span>
                <span class="theme-toggle" id="themeToggle">â˜€ / ðŸŒ™</span>
            </nav>

        </div>
    </header>
    <div class="social-rail">
        <a href="https://github.com/heyyitzaman" target="_blank" data-tooltip="GitHub">
            <i data-lucide="github"></i>
        </a>
    
        <a href="https://linkedin.com/in/iamanchandrapandey" target="_blank" data-tooltip="LinkedIn">
            <i data-lucide="linkedin"></i>
        </a>
    
        <a href="https://instagram.com/heyyitzaman" target="_blank" data-tooltip="Instagram">
            <i data-lucide="instagram"></i>
        </a>
    
        <a href="https://twitter.com/heyyitzaman" target="_blank" data-tooltip="Twitter / X">
            <i data-lucide="twitter"></i>
        </a>
    
        <a href="https://iamanpandey.medium.com/about" target="_blank" data-tooltip="Medium">
            <i data-lucide="pen-tool"></i>
        </a>
    
        <a href="https://leetcode.com/iaman_pandey" target="_blank" data-tooltip="LeetCode">
            <i data-lucide="code"></i>
        </a>
    
        <a href="mailto:iamancpandey@gmail.com" data-tooltip="Email">
            <i data-lucide="mail"></i>
        </a>
    </div>


    <main class="container fade-in">
        <h1>Diary</h1>
        <p class="muted">Click "Read more" to view the full diary entry.</p>

        <div class="diary-container" id="diary-grid"></div>
        <div id="modals-container"></div>
    </main>

    <footer class="container muted">
        Press <strong>B</strong> â†’ Blog Â· <strong>H</strong> â†’ Home Â· <strong>J</strong> â†’ My Journey
    </footer>
    <script src="js/diary_entries.js"></script>
    <script src="js/base.js" defer></script>
    <script>
        const grid = document.getElementById('diary-grid');
        const modalsContainer = document.getElementById('modals-container');

        diaryEntries.forEach(entry => {
            // Diary Card
            const card = document.createElement('div');
            card.className = 'diary-entry-card';
            card.innerHTML = `
            <div class="diary-date">
                <i data-lucide="calendar" style="width: 14px;"></i> ${entry.date}
            </div>
            <h3 class="diary-title">${entry.title}</h3>
            <p style="font-family: 'Georgia', serif; font-size: 1.05rem; line-height: 1.8;">${entry.snippet}</p>
            <button class="glow-button" style="margin-top: 1.5rem; background: transparent; color: var(--accent); border: 1px solid var(--accent);" data-modal="${entry.id}">
                Open Entry <i data-lucide="book-open" style="width: 16px; margin-left: 6px;"></i>
            </button>
            `;
            grid.appendChild(card);

            // Modal
            const modal = document.createElement('div');
            modal.classList.add('modal');
            modal.id = entry.id;
            modal.innerHTML = `
                <button class="close">&times;</button>
                <div class="modal-content" style="font-family: 'Georgia', serif;">
                    ${entry.image ? `<img src="${entry.image}" alt="${entry.title}" style="width: 100%; max-height: 300px; object-fit: cover; border-radius: 12px 12px 0 0;">` : ""}
                    <div style="padding: 2.5rem;">
                        <p class="diary-date" style="text-align: center;">${entry.date}</p>
                        <h2 class="diary-title" style="text-align: center; margin-bottom: 2rem; border-bottom: 1px solid var(--muted); padding-bottom: 1rem;">${entry.title}</h2>
                        <div style="font-size: 1.15rem; line-height: 1.9;">
                            ${entry.full}
                        </div>
                    </div>
                </div>
            `;
            modalsContainer.appendChild(modal);
        });

        // Simple scroll reveal
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = 1;
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll(".diary-entry-card").forEach(entry => {
            entry.style.opacity = 0;
            entry.style.transform = 'translateY(20px)';
            entry.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(entry);
        });

        // Open modal (Event Delegation)
        grid.addEventListener('click', (e) => {
            const btn = e.target.closest('.glow-button');
            if (btn) {
                const modalId = btn.dataset.modal;
                const modal = document.getElementById(modalId);
                if (modal) modal.classList.add('active');
            }
        });

        // Close modal
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', e => {
                if (e.target.classList.contains('modal') || e.target.classList.contains('close')) {
                    modal.classList.remove('active');
                }
            });
        });
        document.addEventListener('keydown', e => {
            if (e.key.toLowerCase() === 'b') location.href = 'blog.html';
            if (e.key.toLowerCase() === 'h') location.href = 'index.html';
            if (e.key.toLowerCase() === 'j') location.href = 'about.html';
        });
    </script>

</body>

</html>