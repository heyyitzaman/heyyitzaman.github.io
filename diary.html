<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diary - YourName</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/animations.css">
    <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body data-page="diary">
    <div class="ambient-bg" aria-hidden="true"></div>

    <div class="cursor-dot" id="cursorDot"></div>

    <header class="nav">
        <div class="container nav-inner">
            <h2>Aman Pandey</h2>
            <button class="hamburger" id="hamburger">
                <span></span>
                <span></span>
            </button>

            <nav id="mobileNav">
                <a href="index.html">Home</a>
                <a href="about.html">Journey</a>
                <a href="blog.html">Blog</a>
                <a href="diary.html">Diary</a>
                <span class="theme-toggle" id="themeToggle">â˜€ / ðŸŒ™</span>
            </nav>

        </div>
    </header>
    <div class="social-rail">
        <a href="https://github.com/heyyitzaman" target="_blank" data-tooltip="GitHub">
            <i data-lucide="github"></i>
        </a>
    
        <a href="https://linkedin.com/in/iamanchandrapandey" target="_blank" data-tooltip="LinkedIn">
            <i data-lucide="linkedin"></i>
        </a>
    
        <a href="https://instagram.com/heyyitzaman" target="_blank" data-tooltip="Instagram">
            <i data-lucide="instagram"></i>
        </a>
    
        <a href="https://twitter.com/heyyitzaman" target="_blank" data-tooltip="Twitter / X">
            <i data-lucide="twitter"></i>
        </a>
    
        <a href="https://iamanpandey.medium.com/about" target="_blank" data-tooltip="Medium">
            <i data-lucide="pen-tool"></i>
        </a>
    
        <a href="https://leetcode.com/iaman_pandey" target="_blank" data-tooltip="LeetCode">
            <i data-lucide="code"></i>
        </a>
    
        <a href="mailto:iamancpandey@gmail.com" data-tooltip="Email">
            <i data-lucide="mail"></i>
        </a>
    </div>


    <main class="container fade-in">
        <h1>Diary</h1>
        <p class="muted">Click "Read more" to view the full diary entry.</p>

        <div class="diary" id="diary-grid"></div>
        <div id="modals-container"></div>
    </main>

    <footer class="container muted">
        Press <strong>B</strong> â†’ Blog Â· <strong>H</strong> â†’ Home Â· <strong>J</strong> â†’ My Journey
    </footer>
    <script src="js/diary_entries.js"></script>
    <script src="js/base.js" defer></script>
    <script>
        const grid = document.getElementById('diary-grid');
        const modalsContainer = document.getElementById('modals-container');

        diaryEntries.forEach(entry => {
            // Card with optional image
            const card = document.createElement('div');
            card.className = 'diary-entry';
            card.innerHTML = `
            <p class="muted">${entry.date}</p>
            <h3>${entry.title}</h3>
            <p>${entry.snippet}</p>
            <button class="button" data-modal="${entry.id}">
                Read more â†’
            </button>
            `;
            grid.appendChild(card);

            // Modal with rich content
            const modal = document.createElement('div');
            modal.classList.add('modal');
            modal.id = entry.id;
            modal.innerHTML = `
                <span class="close">&times;</span>
                <div class="modal-content">
                ${entry.image ? `<img src="${entry.image}" alt="${entry.title}">` : ""}
                <h2>${entry.title}</h2>
                <p class="muted">${entry.date}</p>
                ${entry.full}
                </div>
            `;
            modalsContainer.appendChild(modal);
        });
        document.addEventListener("scroll", () => {
            document.querySelectorAll(".diary-entry").forEach(entry => {
                const rect = entry.getBoundingClientRect();
                entry.style.opacity = rect.top < window.innerHeight * 0.85 ? 1 : 0.4;
            });
        });

        // Open modal
        document.querySelectorAll('.button').forEach(btn => {
            btn.addEventListener('click', () => {
                const modalId = btn.dataset.modal;
                document.getElementById(modalId).classList.add('active');
            });
        });

        // Close modal
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', e => {
                if (e.target.classList.contains('modal') || e.target.classList.contains('close')) {
                    modal.classList.remove('active');
                }
            });
        });
        document.addEventListener('keydown', e => {
            if (e.key.toLowerCase() === 'b') location.href = 'blog.html';
            if (e.key.toLowerCase() === 'h') location.href = 'index.html';
            if (e.key.toLowerCase() === 'j') location.href = 'about.html';
        });
    </script>

</body>

</html>