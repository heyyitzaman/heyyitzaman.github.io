/* =========================
   Navbar (GLOBAL & UNIFORM)
========================= */

.nav {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--nav-height);
  z-index: 100;
  background: color-mix(in srgb, var(--bg) 95%, transparent);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border-bottom: 1px solid color-mix(in srgb, var(--fg) 8%, transparent);
  transition: transform 0.35s ease, box-shadow 0.3s ease;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.02);
}

/* Inner container */
.nav-inner {
  height: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 1rem;
}

.nav.nav-hidden {
  transform: translateY(-100%);
}

.nav.scrolling-up {
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
  border-bottom-color: color-mix(in srgb, var(--fg) 12%, transparent);
}

/* Brand - Enhanced */
.nav h2 {
  font-size: 1.25rem;
  font-weight: 700;
  letter-spacing: -0.02em;
  background: linear-gradient(135deg, var(--fg) 0%, var(--accent) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  transition: transform 0.3s ease;
  cursor: pointer;
}

.nav h2:hover {
  transform: scale(1.05);
}

/* Nav links */
.nav nav {
  display: flex;
  align-items: center;
  gap: 2rem;
}

/* Links - Enhanced */
.nav a {
  color: var(--fg);
  position: relative;
  padding: 0.5rem 0;
  font-size: 0.95rem;
  font-weight: 500;
  opacity: 0.7;
  transition: opacity 0.2s ease, color 0.2s ease, transform 0.2s ease;
  letter-spacing: 0.01em;
}

.nav a:hover,
.nav a:active {
  opacity: 1;
  color: var(--accent);
  transform: translateY(-1px);
}

/* Underline animation - Enhanced */
.nav a::after {
  content: "";
  position: absolute;
  left: 50%;
  bottom: 0;
  width: 0;
  height: 2px;
  background: linear-gradient(90deg, var(--accent), color-mix(in srgb, var(--accent) 70%, var(--fg)));
  transition: width 0.3s ease, left 0.3s ease;
  border-radius: 2px;
}

.nav a:hover::after {
  width: 100%;
  left: 0;
}

.nav a[aria-current="page"] {
  opacity: 1;
  font-weight: 600;
  color: var(--accent);
}

/* Active page underline */
body[data-page="home"] .nav a[href="index.html"]::after,
body[data-page="blog"] .nav a[href="blog.html"]::after,
body[data-page="diary"] .nav a[href="diary.html"]::after,
body[data-page="about"] .nav a[href="about.html"]::after {
  width: 100%;
  left: 0;
}

@media (max-width: 640px) {
  .nav h2 {
    font-size: 1.1rem;
  }

  .nav nav {
    gap: 1.2rem;
  }

  .nav a {
    font-size: 0.85rem;
  }
}

@media (prefers-reduced-motion: reduce) {
  .nav {
    transition: none;
  }
}

/* Logo styling */
.nav-logo {
  width: 40px;
  height: 40px;
  margin-right: 0.75rem;
  vertical-align: middle;
  display: inline-block;
  transition: transform 0.3s ease;
}

.nav h2:hover .nav-logo {
  transform: rotate(360deg) scale(1.1);
}

/* Theme toggle - Enhanced */
/* ============================================
   LIGHT BULB THEME TOGGLE
   Replace your existing .theme-toggle styles with this
============================================ */

/* Light Bulb Theme Toggle Container */
.theme-toggle {
  position: relative;
  width: 40px;
  height: 50px;
  cursor: pointer;
  display: inline-block;
  transition: transform 0.3s ease;
  margin-left: 1rem;
  flex-shrink: 0;
  vertical-align: middle;
}

.theme-toggle:hover {
  transform: scale(1.1);
}

/* Bulb glass */
.bulb {
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 28px;
  height: 28px;
  background: linear-gradient(135deg, #e0e0e0 0%, #f5f5f5 50%, #fff 100%);
  border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
  border: 1.5px solid #d0d0d0;
  transition: all 0.4s ease;
  box-shadow: inset 0 -3px 6px rgba(0, 0, 0, 0.1);
}

/* Filament inside bulb */
.filament {
  position: absolute;
  top: 8px;
  left: 50%;
  transform: translateX(-50%);
  width: 12px;
  height: 12px;
  background: #888;
  border-radius: 50%;
  opacity: 0.3;
  transition: all 0.4s ease;
}

/* Bulb base/socket */
.bulb-base {
  position: absolute;
  top: 26px;
  left: 50%;
  transform: translateX(-50%);
  width: 18px;
  height: 14px;
  background: linear-gradient(to bottom, #c0c0c0 0%, #a0a0a0 100%);
  border-radius: 1px;
}

/* Bulb threads (screw base) */
.bulb-threads {
  position: absolute;
  top: 28px;
  left: 50%;
  transform: translateX(-50%);
  width: 18px;
  height: 12px;
}

.thread {
  width: 100%;
  height: 2px;
  background: #909090;
  margin: 2px 0;
  border-radius: 0.5px;
}

/* Glow effect (visible in light theme) */
.glow {
  position: absolute;
  top: -8px;
  left: 50%;
  transform: translateX(-50%);
  width: 44px;
  height: 44px;
  background: radial-gradient(circle, rgba(255, 215, 0, 0.5) 0%, rgba(255, 215, 0, 0.2) 40%, transparent 70%);
  border-radius: 50%;
  opacity: 0;
  transition: opacity 0.4s ease;
  pointer-events: none;
}

/* Light rays container */
.rays {
  position: absolute;
  top: 14px;
  left: 50%;
  transform: translateX(-50%);
  width: 28px;
  height: 28px;
  opacity: 0;
  transition: opacity 0.4s ease;
}

/* Individual light rays */
.ray {
  position: absolute;
  width: 1.5px;
  height: 20px;
  background: linear-gradient(to bottom, rgba(255, 215, 0, 0.8), transparent);
  top: 50%;
  left: 50%;
  transform-origin: center -10px;
}

.ray:nth-child(1) {
  transform: translateX(-50%) rotate(0deg);
}

.ray:nth-child(2) {
  transform: translateX(-50%) rotate(45deg);
}

.ray:nth-child(3) {
  transform: translateX(-50%) rotate(90deg);
}

.ray:nth-child(4) {
  transform: translateX(-50%) rotate(135deg);
}

.ray:nth-child(5) {
  transform: translateX(-50%) rotate(180deg);
}

.ray:nth-child(6) {
  transform: translateX(-50%) rotate(225deg);
}

.ray:nth-child(7) {
  transform: translateX(-50%) rotate(270deg);
}

.ray:nth-child(8) {
  transform: translateX(-50%) rotate(315deg);
}

/* ============================================
   LIGHT THEME (BULB ON)
============================================ */
[data-theme="light"] .bulb {
  background: linear-gradient(135deg, #fff9c4 0%, #ffeb3b 50%, #ffd700 100%);
  border-color: #ffd700;
  box-shadow:
    0 0 20px rgba(255, 215, 0, 0.6),
    inset 0 -5px 10px rgba(255, 193, 7, 0.3);
}

[data-theme="light"] .filament {
  background: #ff6b35;
  opacity: 1;
  box-shadow: 0 0 10px rgba(255, 107, 53, 0.8);
}

[data-theme="light"] .glow {
  opacity: 1;
  animation: pulse 2s ease-in-out infinite;
}

[data-theme="light"] .rays {
  opacity: 1;
  animation: rotate 10s linear infinite;
}

/* ============================================
   DARK THEME (BULB OFF)
============================================ */
[data-theme="dark"] .bulb {
  background: linear-gradient(135deg, #4a5568 0%, #2d3748 50%, #1a202c 100%);
  border-color: #2d3748;
}

/* ============================================
   ANIMATIONS
============================================ */
@keyframes pulse {

  0%,
  100% {
    opacity: 1;
  }

  50% {
    opacity: 0.7;
  }
}

@keyframes rotate {
  from {
    transform: translateX(-50%) rotate(0deg);
  }

  to {
    transform: translateX(-50%) rotate(360deg);
  }
}

/* ============================================
   MOBILE RESPONSIVE
============================================ */
@media (max-width: 768px) {
  .theme-toggle {
    margin-left: 0;
  }
}

/* ============================================
   ACCESSIBILITY
============================================ */
@media (prefers-reduced-motion: reduce) {

  .theme-toggle,
  .bulb,
  .filament,
  .glow,
  .rays {
    transition: none !important;
    animation: none !important;
  }
}

/* =========================
   Hamburger (Mobile)
========================= */

.hamburger {
  display: none;
  background: none;
  border: none;
  cursor: pointer;
  padding: 0;
}

.hamburger span {
  display: block;
  width: 22px;
  height: 2px;
  background: var(--fg);
  margin: 5px 0;
  transition: transform 0.3s ease, opacity 0.3s ease;
}

.hamburger.active span:nth-child(1) {
  transform: translateY(7px) rotate(45deg);
}

.hamburger.active span:nth-child(2) {
  transform: translateY(-7px) rotate(-45deg);
}

/* =========================
   Mobile Nav
========================= */

@media (max-width: 768px) {
  .hamburger {
    display: block;
  }

  .nav nav {
    position: absolute;
    top: var(--nav-height);
    left: 0;
    width: 100%;

    background: var(--bg);
    border-bottom: 1px solid color-mix(in srgb, var(--fg) 10%, transparent);

    flex-direction: column;
    align-items: flex-start;
    gap: 1rem;
    padding: 1.2rem 1.5rem;

    opacity: 0;
    transform: translateY(-8px);
    pointer-events: none;

    transition: opacity 0.25s ease, transform 0.25s ease;
  }

  .nav nav.open {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
  }
}

.nav.menu-open {
  transform: translateY(0) !important;
}

.button {
  background: var(--accent);
  color: var(--bg);
  border: none;
  padding: 0.5rem 1rem;
  border-radius: var(--radius);
  cursor: pointer;
  transition: all 0.3s ease;
  margin-top: 1rem;
  align-self: flex-start;
  transition: transform 0.2s ease, opacity 0.2s ease;
}

.button:hover {
  transform: translateY(-1px);
  opacity: 0.9;
  box-shadow: 0 8px 20px rgba(56, 189, 248, 0.3);
}

.card {
  display: flex;
  flex-direction: column;
  justify-content: center;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  background: var(--card-bg);
  border-radius: 14px;
  padding: 1.4rem;
  box-shadow:
    0 1px 2px rgba(0,0,0,0.04),
    0 8px 24px rgba(0,0,0,0.06);
}

.card:hover {
  transform: translateY(-5px);
  box-shadow: 0 12px 25px rgba(56, 189, 248, 0.3);
}

.card img {
  width: 100%;
  border-radius: var(--radius);
  margin-bottom: 0.5rem;
}

.inline-link {
  font-size: 0.9rem;
  color: inherit;
  opacity: 0.8;
}

.inline-link:hover {
  opacity: 1;
  text-decoration: underline;
}

/* =========================
   BLOG & DIARY REDESIGN
   ========================= */

/* Blog Grid */
.blog-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 2rem;
    padding-bottom: 3rem;
}

.blog-card {
    background: var(--card);
    border: 1px solid var(--muted);
    border-radius: 16px;
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    display: flex;
    flex-direction: column;
    position: relative;
    backdrop-filter: blur(10px);
}

.blog-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
    border-color: var(--accent);
}

.blog-image-wrapper {
    height: 200px;
    overflow: hidden;
    position: relative;
}

.blog-image-wrapper img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.5s ease;
}

.blog-card:hover .blog-image-wrapper img {
    transform: scale(1.1);
}

.blog-content {
    padding: 1.5rem;
    flex: 1;
    display: flex;
    flex-direction: column;
}

.blog-meta {
    font-size: 0.85rem;
    color: var(--muted);
    margin-bottom: 0.5rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.blog-title {
    font-size: 1.25rem;
    margin-bottom: 0.75rem;
    line-height: 1.4;
}

.blog-snippet {
    font-size: 0.95rem;
    color: var(--fg);
    opacity: 0.8;
    margin-bottom: 1.5rem;
    flex: 1;
}

.diary-container {
    max-width: 800px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

.diary-entry-card {
    background: var(--card);
    border: 1px solid var(--muted);
    color: #333;
    padding: 2rem;
    border-radius: 20px;
    box-shadow: 1px 4px 15px rgba(0,0,0,0.1);
    position: relative;
    border-left: 4px solid var(--accent);
    transition: transform 0.3s ease;
    font-family: 'Georgia', 'Cambria', serif;
}

.indent-1 { padding-left: 1.5rem; }
.indent-2 { padding-left: 3rem; }
.indent-3 { padding-left: 4.5rem; }

.code-content {
    overflow-x: auto;
    white-space: pre;
}

[data-theme="dark"] .diary-entry-card p {
    color: #d4d4d4;
}

.fade-up {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
}

.fade-up.visible {
    opacity: 1;
    transform: translateY(0);
}

.diary-entry-card::before {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 0;
    height: 0;
    border-style: solid;
    border-width: 0 20px 20px 0;
    border-color: transparent rgba(0,0,0,0.1) transparent transparent;
}

.diary-entry-card:hover {
    transform: scale(1.02);
}

.diary-date {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.85rem;
    color: var(--accent);
    margin-bottom: 0.5rem;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.diary-title {
    font-family: 'Georgia', serif;
    font-size: 1.6rem;
    margin-bottom: 1rem;
    font-style: italic;
    color: var(--fg);
}

/* Enhanced Modal */
.modal {
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
    position: fixed;
    top: 0;
    left: 0;
    width: 105%;
    height: 108%;
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    pointer-events: none; /* Let clicks pass through when hidden */
    padding-top: 5px; /* Space for navbar */
    box-sizing: border-box;
}

.modal.active {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
}

.modal-content {
    background: var(--card); /* Ensure background is set */
    color: var(--fg);
    border-radius: 16px;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
    transform: translateY(20px) scale(0.95);
    transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    
    width: 90%;
    max-width: 700px;
    
    /* Fix: Scrollable content */
    max-height: 85vh;
    overflow-y: auto;
    overflow-x: visible;
    position: relative; /* For close button positioning */
    border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Better content organization */
.modal-content h2 {
    font-size: 2rem;
    line-height: 1.3;
    margin-bottom: 1rem;
    font-weight: 700;
}

.modal-content h3 {
    font-size: 1.5rem;
    line-height: 1.4;
    margin-top: 2rem;
    margin-bottom: 1rem;
    font-weight: 600;
}

.modal-content p {
    font-size: 1.05rem;
    line-height: 1.8;
    margin-bottom: 1.5rem;
}

.modal-content ul, .modal-content ol {
    margin-bottom: 1.5rem;
    padding-left: 1.5rem;
}

.modal-content li {
    margin-bottom: 0.5rem;
    line-height: 1.7;
}

.modal-content img {
    width: 100%;
    border-radius: 12px 12px 0 0;
    margin-bottom: 0;
}

/* Blog-specific styling */
body[data-page="blog"] .modal-content code {
    background: rgba(0, 0, 0, 0.1);
    padding: 0.2rem 0.4rem;
    border-radius: 4px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.9em;
}

body[data-page="blog"] .modal-content pre {
    background: rgba(0, 0, 0, 0.05);
    padding: 1rem;
    border-radius: 8px;
    overflow-x: auto;
    margin: 1.5rem 0;
}

body[data-page="blog"] .modal-content strong {
    font-weight: 600;
    color: var(--accent);
}

/* Light mode adjustments */
[data-theme="light"] body[data-page="blog"] .modal-content code {
    background: rgba(0, 0, 0, 0.06);
}

[data-theme="light"] body[data-page="blog"] .modal-content pre {
    background: rgba(0, 0, 0, 0.03);
    border: 1px solid rgba(0, 0, 0, 0.08);
}

.modal.active .modal-content {
    transform: translateY(0) scale(1);
}

.modal .close {
    position: sticky;
    top: 1rem;
    right: 1rem;
    float: right;
    background: var(--card);
    color: var(--fg);
    border-radius: 50%;
    width: 44px;
    height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10001;
    cursor: pointer;
    border: 2px solid var(--muted);
    font-size: 1.75rem;
    line-height: 1;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    margin: 1rem 1rem -44px auto;
}

.modal .close:hover {
    transform: rotate(90deg) scale(1.1);
    background: var(--accent);
    color: white;
    border-color: transparent;
}

.stats-container {
  display: flex;
  justify-content: center;
  gap: 2rem;
  margin: 2rem 0;
  flex-wrap: wrap;
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 2rem;
  margin: 2rem 0;
  text-align: center;
}

.stat-item {
  padding: 1.5rem;
  background: var(--card);
  border-radius: 8px;
  border: 1px solid var(--muted);
}

.stat-number {
  font-size: 2.5rem;
  font-weight: bold;
  color: var(--accent);
  display: block;
}

.stat-label {
  opacity: 0.7;
  font-size: 0.9rem;
  margin-top: 0.5rem;
  color: var(--muted);
}

.card-hover {
  background: rgba(255, 255, 255, 0.03);
  border-radius: 20px;
  border: 1px solid rgba(255, 255, 255, 0.08);
  transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  cursor: pointer;
  position: relative;
  overflow: hidden;
  padding: 2.5rem 2rem;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  backdrop-filter: blur(10px);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

.card-hover::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(circle at top right, 
              rgba(102, 126, 234, 0.15), 
              transparent 60%);
  opacity: 0;
  transition: opacity 0.5s ease;
  z-index: 0;
}

.card-hover:hover::before {
  opacity: 1;
}

.card-hover:hover,
.card-hover:active,
.project-card:hover,
.project-card:active,
.blog-card:hover,
.blog-card:active,
.diary-entry-card:hover,
.diary-entry-card:active {
  transform: translateY(-5px);
  box-shadow: 0 12px 25px rgba(56, 189, 248, 0.3);
}

/* Specific styling for content inside card-hover to ensure z-index above background */
.card-hover > * {
  position: relative;
  z-index: 1;
}

.card-hover .path-icon {
  font-size: 3rem;
  margin-bottom: 1.5rem;
  transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
  display: inline-block;
  filter: drop-shadow(0 4px 6px rgba(0,0,0,0.1));
}

.card-hover:hover .path-icon {
  transform: scale(1.15) rotate(5deg);
}

.card-hover h3 {
  font-size: 1.5rem;
  margin-bottom: 0.75rem;
  font-weight: 700;
  letter-spacing: -0.02em;
}

.card-hover p.muted {
  margin-bottom: 2rem;
  line-height: 1.6;
  opacity: 0.7;
}

/* Custom button inside card */
.card-hover .glow-button {
  margin-top: auto; /* Push to bottom */
  width: 100%;
  text-align: center;
  background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
  border: 1px solid rgba(255,255,255,0.1);
  box-shadow: none;
}

.card-hover:hover .glow-button {
  background: var(--accent);
  border-color: transparent;
  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
}

/* Glow Button */
.glow-button {
  position: relative;
  z-index: 1;
  background: var(--accent);
  color: white;
  border: none;
  padding: 0.75rem 1.5rem;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.3s;
  font-weight: 500;
}

.glow-button:hover {
  box-shadow: 0 0 20px var(--accent);
  transform: scale(1.05);
}

/* Timeline Components */
.timeline {
  position: relative;
  padding-left: 2rem;
}

.timeline::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 2px;
  background: linear-gradient(180deg, #667eea, #764ba2);
}

.timeline-item::before {
  content: '';
  position: absolute;
  left: -2.5rem;
  top: 1.5rem;
  width: 12px;
  height: 12px;
  background: #667eea;
  border-radius: 50%;
  border: 3px solid rgba(102, 126, 234, 0.3);
  animation: pulse 2s ease-in-out infinite;
}

.timeline-item:hover::before {
  background: #764ba2;
  box-shadow: 0 0 20px rgba(118, 75, 162, 0.6);
}

/* Experience Cards */
.experience-card {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 2rem;
  position: relative;
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
}

.experience-card:hover {
  transform: translateX(12px);
  border-color: rgba(102, 126, 234, 0.4);
  box-shadow: 0 12px 32px rgba(102, 126, 234, 0.2);
}

.experience-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 1rem;
  flex-wrap: wrap;
  gap: 1rem;
}

.experience-title h3 {
  font-size: 1.25rem;
  margin-bottom: 0.25rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.company {
  color: var(--accent);
  font-weight: 500;
}

.duration {
  opacity: 0.6;
  font-size: 0.9rem;
  white-space: nowrap;
  display: flex;
  align-items: center;
  gap: 0.3rem;
}

/* Skills Grid */
.skills-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1.5rem;
}

.skill-category {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  padding: 1.5rem;
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
}

.skill-category:hover {
  transform: translateY(-8px) scale(1.02);
  border-color: rgba(102, 126, 234, 0.3);
  box-shadow: 0 12px 32px rgba(102, 126, 234, 0.2);
}

.skill-category h4 {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
  font-size: 1.1rem;
}

.skill-item-wrapper {
  margin-bottom: 1rem;
}

.skill-item-header {
  display: flex;
  justify-content: space-between;
  margin-bottom: 0.5rem;
  font-size: 0.9rem;
}

/* Achievements Grid */
.achievements-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
}

.achievement-card {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  padding: 1.5rem;
  text-align: center;
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
}

.achievement-card:hover {
  transform: translateY(-8px) rotate(2deg);
  border-color: rgba(102, 126, 234, 0.4);
  box-shadow: 0 12px 32px rgba(102, 126, 234, 0.3);
}

.achievement-card h4 {
  margin-bottom: 0.5rem;
  font-size: 1.1rem;
}

.achievement-card p {
  opacity: 0.7;
  font-size: 0.9rem;
}

.achievement-icon-wrapper {
  width: 80px;
  height: 80px;
  margin: 0 auto 1rem;
  background: linear-gradient(135deg, #667eea, #764ba2);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: rotate 10s linear infinite;
}

.achievement-icon-wrapper:hover {
  animation-play-state: paused;
}

.achievement-icon-wrapper img {
  width: 50px;
  height: 50px;
  filter: brightness(0) invert(1);
}

/* Education Grid */
.education-grid {
  display: grid;
  gap: 1.5rem;
}

.education-item {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  padding: 1.5rem;
  display: flex;
  gap: 1.5rem;
  align-items: center;
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
}

.education-item:hover {
  transform: translateX(8px);
  border-color: rgba(102, 126, 234, 0.3);
  box-shadow: 0 8px 24px rgba(102, 126, 234, 0.2);
}

.education-icon {
  width: 60px;
  height: 60px;
  background: linear-gradient(135deg, #667eea, #764ba2);
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

/* Grid Systems */
.intersection-grid, .projects-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1.5rem;
}

.three-paths {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 2rem;
  margin: 3rem 0;
}

.dual-identity {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  margin: 3rem 0;
  position: relative;
}

/* Identity Cards */
.identity-card, .intersection-card {
  background: var(--card);
  padding: 2rem;
  border-radius: 8px;
  border: 1px solid var(--muted);
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.identity-card::before, .intersection-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(56, 189, 248, 0.08), transparent);
  transition: left 0.5s;
}

.identity-card:hover::before, .intersection-card:hover::before {
  left: 100%;
}

.identity-card:hover, .intersection-card:hover {
  transform: translateY(-4px) scale(1.02);
  border-color: var(--accent);
}

/* Project Cards */
.project-card {
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid rgba(255, 255, 255, 0.08); /* Dark subtle border */
  border-radius: 24px; /* Larger radius for modern feel */
  padding: 0;
  overflow: hidden;
  transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
  cursor: pointer;
  position: relative;
  backdrop-filter: blur(10px);
  display: flex;
  flex-direction: column;
  height: 100%; /* Uniform height */
}

/* Image container with overlay */
.project-image-container {
  position: relative;
  overflow: hidden;
  height: 220px; /* Fixed height for consistency */
}

.project-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.7s ease;
}

/* Dark overlay on image */
.project-image-container::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(to bottom, transparent 0%, rgba(0,0,0,0.6) 100%);
  opacity: 0.6;
  transition: opacity 0.3s;
}

.project-card:hover .project-image {
  transform: scale(1.08);
}

.project-card:hover .project-image-container::after {
  opacity: 0.3; /* Lighten on hover */
}

.project-card:hover .project-image-container::after {
  opacity: 0.3; /* Lighten on hover */
}

/* Chart Containers */
.chart-container {
    position: relative;
    height: 400px;
    width: 100%;
    max-width: 600px;
    margin: 0 auto;
}

@media (max-width: 768px) {
    .chart-container {
        height: 300px;
    }
}

/* GitHub & LeetCode Graphs */
.activity-graph-container {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 1.5rem;
    margin-bottom: 2rem;
}

.activity-graph-container img {
    width: 100%;
    height: auto;
    display: block;
    min-width: 600px; /* Ensure it doesn't shrink too much */
}

.leetcode-stat-card {
    border: none;
    width: 100%;
    height: 200px;
    border-radius: 12px;
}

/* Timeline enhancements */
.timeline {
    position: relative;
    padding-left: 2rem;
    border-left: 2px solid var(--border);
}

.timeline-item {
    position: relative;
    margin-bottom: 2.5rem;
}

.timeline-item::before {
    content: '';
    position: absolute;
    left: -2.6rem;
    top: 0.5rem;
    width: 1rem;
    height: 1rem;
    background: var(--accent);
    border-radius: 50%;
    border: 2px solid var(--bg);
    box-shadow: 0 0 0 4px var(--surface);
}
/* ... existing styles ... */

/* Smaller icons for Technical Arsenal */
.tech-card.small-icon {
    font-size: 0.9rem;
    padding: 0.75rem;
}

.tech-card.small-icon .tech-icon {
    font-size: 1.2rem;
    margin-right: 0.5rem;
}

/* ... (existing styles) */

/* Flip Card Styles for Projects */
.project-card {
    background-color: transparent !important; /* Override default card bg */
    perspective: 1000px;
    height: 480px; /* Fixed height increased to prevent scroll */
    border: none !important;
    padding: 0 !important;
}

.project-inner {
    position: relative;
    width: 100%;
    height: 100%;
    text-align: left;
    transition: transform 0.6s;
    transform-style: preserve-3d;
    border-radius: 12px;
}



/* Class for JS-triggered flip */
.project-inner.is-flipped {
    transform: rotateY(180deg);
}

.project-front, .project-back {
    position: absolute;
    width: 100%;
    height: 100%;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    border-radius: 12px;
    border: 1px solid var(--border);
    background: var(--surface);
    overflow: hidden;
}

.project-front {
    display: flex;
    flex-direction: column;
}

.project-front .project-image-container {
    height: 50%; /* Reduced to give more space for content */
    flex-shrink: 0;
}

.project-front .project-content {
    padding: 1.5rem;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    justify-content: center; /* Center content vertically */
    gap: 1rem; /* Moderate gap between elements */
}

/* Specific style for description to prevent overflow */
.project-content p {
    display: -webkit-box;
    -webkit-line-clamp: 4; /* Limit to 4 lines */
    -webkit-box-orient: vertical;
    overflow: hidden;
    margin-bottom: 0.5rem; /* Reduce space after paragraph before link */
}

.project-back {
    transform: rotateY(180deg);
    padding: 2rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
    background: var(--surface);
    overflow-y: auto;
}

/* Styled Lists for Experience & Projects */
.detail-list {
    list-style: none;
    padding: 0;
    margin: 1rem 0;
}

.detail-list li {
    position: relative;
    padding-left: 1.5rem;
    margin-bottom: 0.5rem;
    font-size: 0.95rem;
    color: var(--text-muted);
}

.detail-list li::before {
    content: '▹';
    position: absolute;
    left: 0;
    color: var(--accent);
}

/* Certifications Grid */
.cert-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 1.5rem;
    margin-top: 1rem;
}

.cert-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-left: 4px solid var(--accent); /* Added accent border */
    padding: 1.5rem;
    border-radius: 12px;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.cert-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.03));
    pointer-events: none;
}

.cert-card:hover {
    transform: translateY(-5px);
    border-color: var(--accent);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
}

.cert-card h4 {
    margin-bottom: 0.5rem;
    font-size: 1.1rem;
    display: flex;
    align-items: center;
    gap: 8px;
}

/* Flip Icon Styling */
.flip-icon {
    position: absolute;
    top: 15px;
    right: 15px;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(4px);
    color: white;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    border: 1px solid rgba(255,255,255,0.2);
    z-index: 10;
    opacity: 0.8;
    transition: all 0.3s ease;
}

.project-card:hover .flip-icon {
    opacity: 1;
    transform: scale(1.1);
    background: var(--accent);
    border-color: transparent;
}

/* Position flip icon differently on the back if needed */
.project-back .flip-icon {
    top: 10px;
    right: 10px;
    background: transparent;
    border: none;
    color: var(--text-muted);
}
.project-back .flip-icon:hover {
    color: var(--accent);
    background: transparent;
}
/* Mobile Touch Optimizations */
@media (hover: none) {
    .project-card:hover .project-inner {
        transform: none;
    }
    
    .project-inner {
        transform: none !important; /* Ensure no accidental flips */
    }
    
    .project-back {
        display: none; /* Hide back on mobile if flipping is disabled, or use a button to toggle */
        /* Alternatively, stack them? Let's keep it simple: disable hover flip, maybe click to flip in JS? 
           For now, just fix the syntax error. 
           But wait, if we disable flip, user can't see details.
           Let's just remove the hover flip blocking for now so it works on tap, 
           or use specific logic. 
           The user said "flip card is not working", likely due to syntax error. 
           I will just fix the syntax and let standardized behavior apply. */
    }
}

/* Ensure action buttons are visible on touch */
@media (hover: none) {
    .project-links,
    .card-hover .glow-button {
      opacity: 1 !important;
      visibility: visible !important;
      transform: none !important;
    }
}

/* Project Badge floating */
.project-badge {
  position: absolute;
  top: 15px;
  right: 15px;
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(4px);
  color: white;
  padding: 5px 12px;
  border-radius: 20px;
  font-size: 0.75rem;
  font-weight: 600;
  z-index: 2;
  border: 1px solid rgba(255,255,255,0.1);
  display: flex;
  align-items: center;
  gap: 4px;
}

/* Content Area */
.project-content {
  padding: 1.75rem;
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  border-top: 1px solid rgba(255,255,255,0.05);
  background: linear-gradient(to bottom, rgba(255,255,255,0.01), transparent);
}

.project-content h4 {
  font-size: 1.35rem;
  margin-bottom: 0.75rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  color: var(--fg);
}

.project-description {
  color: var(--muted);
  font-size: 0.95rem;
  line-height: 1.6;
  margin-bottom: 1.5rem;
  flex-grow: 1; /* Pushes bottom elements down */
}

.tech-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
}

.tech-tag {
  font-size: 0.75rem;
  padding: 4px 10px;
  border-radius: 6px;
  background: rgba(102, 126, 234, 0.1);
  color: #aebbf0; /* Light accent color */
  border: 1px solid rgba(102, 126, 234, 0.2);
}

.project-links {
  display: flex;
  gap: 1rem;
  margin-top: auto;
}

.project-link {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.6rem;
  border-radius: 8px;
  background: rgba(255, 255, 255, 0.05);
  color: var(--fg);
  text-decoration: none;
  font-size: 0.9rem;
  font-weight: 500;
  transition: all 0.3s;
  border: 1px solid rgba(255, 255, 255, 0.05);
}

.project-link:hover {
  background: var(--accent);
  color: white;
  border-color: transparent;
  transform: translateY(-2px);
}

.project-card:hover {
  transform: translateY(-8px);
  border-color: rgba(102, 126, 234, 0.4);
  box-shadow: 0 16px 40px rgba(0, 0, 0, 0.25);
}

/* Achievement Cards */
.achievement-card {
  background: var(--card);
  border: 1px solid var(--muted);
  border-radius: 12px;
  padding: 1.5rem;
  text-align: center;
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
}

.achievement-card:hover {
  transform: translateY(-8px) rotate(2deg);
  border-color: var(--accent);
  box-shadow: 0 12px 32px rgba(102, 126, 234, 0.3);
}

.achievement-icon-wrapper {
  width: 80px;
  height: 80px;
  margin: 0 auto 1rem;
  background: linear-gradient(135deg, #667eea, #764ba2);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: rotate 10s linear infinite;
}

.achievement-icon-wrapper:hover {
  animation-play-state: paused;
}

/* Tech Cards */
.tech-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: 1rem;
}

.tech-card {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 1.25rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    transition: all 0.3s ease;
    cursor: default;
}

.tech-card:hover {
    background: rgba(255, 255, 255, 0.08); /* Slightly lighter on hover */
    transform: translateY(-5px);
    border-color: var(--accent);
    box-shadow: 0 10px 20px rgba(0,0,0,0.1);
}

.tech-icon {
    font-size: 2rem;
    margin-bottom: 0.75rem;
    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
}

.tech-name {
    font-weight: 600;
    font-size: 0.95rem;
    color: var(--fg);
    margin-bottom: 0.25rem;
}

.tech-level {
    font-size: 0.75rem;
    color: var(--muted);
    background: rgba(255,255,255,0.05);
    padding: 2px 8px;
    border-radius: 10px;
}

/* Code Window Styling */
.code-window {
  font-family: 'JetBrains Mono', 'Fira Code', 'Courier New', monospace;
  background: #1e1e1e;
  color: #d4d4d4;
  border-radius: 12px;
  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
  margin: 3rem auto;
  max-width: 800px;
  overflow: hidden;
  border: 1px solid rgba(255, 255, 255, 0.1);
  position: relative;
  display: flex;
  flex-direction: column;
}

.window-header {
  background: #252526;
  padding: 0.8rem 1rem;
  display: flex;
  align-items: center;
  border-bottom: 1px solid #333;
}

.window-controls {
  display: flex;
  gap: 8px;
  margin-right: 1.5rem;
}

/* Tab Bar Styling */
.tab-bar {
  display: flex;
  flex: 1;
  gap: 2px;
  overflow-x: auto;
}

.tab {
  padding: 4px 12px;
  font-size: 0.85rem;
  color: #969696;
  cursor: pointer;
  background: transparent;
  border-radius: 4px;
  display: flex;
  align-items: center;
  gap: 6px;
  transition: all 0.2s ease;
}

.tab:hover {
  background: rgba(255, 255, 255, 0.05);
  color: #e0e0e0;
}

.tab.active {
  background: #1e1e1e;
  color: #fff;
  border-top: 1px solid var(--accent);
}

.tab-icon {
  width: 14px;
  height: 14px;
  opacity: 0.8;
}

.control {
  width: 12px;
  height: 12px;
  border-radius: 50%;
}

.control.close { background: #ff5f56; }
.control.minimize { background: #ffbd2e; }
.control.maximize { background: #27c93f; }

.window-title {
  /* Hidden when tabs are present, or used for minimal view */
  display: none; 
}

.code-content {
  padding: 1.5rem;
  overflow-x: auto;
  font-size: 0.9rem;
  line-height: 1.6;
  display: none; /* Hidden by default */
  animation: fadeIn 0.3s ease;
}

.code-content.active {
  display: block;
}

.code-line {
  display: flex;
  opacity: 0;
  animation: fadeInLine 0.4s ease forwards;
}

.line-number {
  color: #6e7681;
  min-width: 30px;
  text-align: right;
  margin-right: 1.5rem;
  user-select: none;
  font-size: 0.85rem;
}

/* Syntax Highlighting */
.kwd { color: #569cd6; font-weight: bold; } /* Keyword */
.str { color: #ce9178; } /* String */
.func { color: #dcdcaa; } /* Function */
.com { color: #6a9955; font-style: italic; } /* Comment */
.op { color: #d4d4d4; } /* Operator */
.num { color: #b5cea8; } /* Number */
.type { color: #4ec9b0; } /* Type */

/* Download Button */
.download-btn {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  text-decoration: none;
  transition: all 0.3s ease;
  border: none;
  cursor: pointer;
  font-size: 1rem;
  position: relative;
  overflow: hidden;
}

.download-btn::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

.download-btn:hover::before {
  width: 300px;
  height: 300px;
}

.download-btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 12px 32px rgba(102, 126, 234, 0.5);
}

.download-btn span {
  position: relative;
  z-index: 1;
}

/* =========================
   PAGE SPECIFIC STYLES
   ========================= */

/* Diary Page Styling */
body[data-page="diary"] {
  --diary-width: 680px;
}

/* Diary container */
body[data-page="diary"] .diary {
  max-width: var(--diary-width);
  margin: 2rem auto 0;
}

/* Diary title */
body[data-page="diary"] h1 {
  max-width: var(--diary-width);
  margin: 0 auto 0.5rem;
  font-weight: 600;
}

/* Diary subtitle */
body[data-page="diary"] .muted {
  max-width: var(--diary-width);
  margin: 0 auto 2.5rem;
}

/* Individual entry */
.diary-entry {
  position: relative;
  padding-left: 1.4rem;
  margin-bottom: 3.5rem;
  border-left: 2px solid color-mix(in srgb, var(--accent) 35%, transparent);
  transition: transform 0.25s ease, opacity 0.25s ease;
  animation: diaryFade 0.6s ease forwards;
  opacity: 0;
}
.diary:hover .diary-entry {
  opacity: 0.4;
}
.diary:hover .diary-entry:hover {
  opacity: 1;
  transform: translateX(6px);
}

/* Timeline dot */
.diary-entry::before {
  content: "";
  position: absolute;
  left: -6px;
  top: 0.45rem;
  width: 10px;
  height: 10px;
  background: var(--accent);
  border-radius: 50%;
}

/* Date */
.diary-entry .muted {
  font-size: 0.8rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  margin-bottom: 0.4rem;
}

/* Title */
.diary-entry h3 {
  font-weight: 500;
  margin-bottom: 0.4rem;
}

/* Snippet */
.diary-entry p {
  font-size: 1.05rem;
  line-height: 1.9;
}

.diary-entry:nth-child(1) {
  animation-delay: 0.1s;
}

.diary-entry:nth-child(2) {
  animation-delay: 0.2s;
}

.diary-entry:nth-child(3) {
  animation-delay: 0.3s;
}

@keyframes diaryFade {
  from {
    opacity: 0;
    transform: translateY(8px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

body[data-page="diary"] .button {
  position: relative;
}

body[data-page="diary"] .button::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -2px;
  width: 0;
  height: 1px;
  background: currentColor;
  transition: width 0.25s ease;
}

body[data-page="diary"] .button:hover::after {
  width: 100%;
}

/* Modal typography (diary tone) */
body[data-page="diary"] .modal-content {
  max-width: 640px;
  font-size: 1.05rem;
  line-height: 1.9;
}

body[data-page="diary"] .modal-content h2 {
  font-weight: 500;
  margin-bottom: 0.6rem;
}

/* Light mode – paper feel */
[data-theme="light"] body[data-page="diary"] {
  background: linear-gradient(to bottom, #f8fafc, #eef2f7);
}

html[data-theme="dark"] .diary-entry-card,
body[data-theme="dark"] .diary-entry-card,
[data-theme="dark"] .diary-entry-card {
    background: #18181b !important; /* Zinc 900 */
    color: #e4e4e7 !important;
    border: 1px solid rgba(255, 255, 255, 0.08);
}

[data-theme="light"] body[data-page="diary"] .diary {
  background: rgba(255, 255, 255, 0.65);
  padding: 2rem 2rem 1rem;
  border-radius: var(--radius);
}

/* =========================
   DIARY MODAL SPECIFICS (Restored)
   ========================= */

body[data-page="diary"] .modal-content {
  max-width: 640px;
  font-family: ui-serif, Georgia, Cambria, "Times New Roman", serif;
  font-size: 1.1rem;
  line-height: 2;
  position: relative;
}

body[data-page="diary"] .modal-content p {
  margin-bottom: 1.4rem;
}

body[data-page="diary"] .modal-content p:first-of-type {
  font-size: 1.15rem;
}

body[data-page="diary"] .modal-content h2 {
  margin-bottom: 0.3rem;
  font-family: 'Georgia', serif;
}

body[data-page="diary"] .modal-content .muted {
  display: block;
  margin-bottom: 1.5rem;
  font-size: 0.85rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  opacity: 0.75;
}

body[data-page="diary"] .modal-content img {
  border-radius: 18px;
  filter: saturate(0.95) contrast(0.98);
  margin-bottom: 1.5rem;
}

/* Light mode Paper Texture */
[data-theme="light"] body[data-page="diary"] .modal-content {
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0.98), rgba(255, 255, 255, 0.95)),
              repeating-linear-gradient(to bottom, rgba(0, 0, 0, 0.015) 0px, rgba(0, 0, 0, 0.015) 1px, transparent 1px, transparent 28px);
}

/* Diary Close Button */
body[data-page="diary"] .modal .close {
  background: color-mix(in srgb, var(--card) 85%, black);
  color: var(--fg);
}

body[data-page="diary"] .modal .close:hover {
  background: color-mix(in srgb, var(--accent) 20%, var(--card));
}

/* =========================
   CODE WINDOW STYLES (Fixed)
   ========================= */
.code-content {
    display: none;
    padding: 1.5rem;
    margin: 0;
    overflow-x: auto;
    background: #1e1e1e !important;
}

.code-content.active {
    display: block;
}

.code-content pre {
    margin: 0;
    font-family: 'JetBrains Mono', 'Fira Code', monospace;
    font-size: 0.9rem;
    line-height: 1.6;
    color: #d4d4d4;
    white-space: pre; 
}

.code-content code {
    font-family: inherit;
}

.kwd { color: #569cd6; font-weight: bold; }
.func { color: #dcdcaa; }
.str { color: #ce9178; }
.type { color: #4ec9b0; }
.com { color: #6a9955; font-style: italic; }
.op { color: #d4d4d4; }
.num { color: #b5cea8; }

.container {
  max-width: 1100px;
  margin: auto;
  padding: 2rem 1.5rem;
}

.grid {
  display: grid;
  gap: 2rem;
}

@media (min-width: 900px) {
  .grid-2 {
    grid-template-columns: repeat(3, 1fr);
  }
}


@media (min-width: 768px) {
  .grid-2 {
    grid-template-columns: repeat(2, 1fr);
  }
}


section {
  margin-bottom: 5rem;
}

section>h2 {
  margin-bottom: 2rem;
}

body[data-page="home"] section:first-of-type {
  padding-top: 6rem;
  padding-bottom: 5rem;
}

/* GitHub Calendar Customization */
.calendar {
    border: 1px solid var(--border) !important;
    border-radius: 12px;
    padding: 1rem;
    background: var(--surface);
    overflow: visible !important; 
    min-height: auto;
    position: relative;
    z-index: 5; /* Ensure calendar is above background */
}
.contrib-footer, .contrib-legend {
    display: none !important;
}
.calendar a, .calendar h2 {
    display: none !important;
}
.js-calendar-graph, .js-calendar-graph-svg {
    display: block !important;
    overflow: visible !important;
    width: 100% !important;
}
/* Force interactivity on the rects */
.js-calendar-graph-svg rect.ContributionCalendar-day {
    pointer-events: all !important; 
    cursor: pointer;
}
/* Tooltip styling fixes - Github Calendar uses .svg-tip or aria-label */
.svg-tip {
    z-index: 10000 !important;
    position: fixed !important; /* Fixed to viewport to avoid overflow clipping */
    background: rgba(0,0,0,0.9) !important;
    color: white !important;
    padding: 8px 12px !important;
    border-radius: 6px !important;
    font-size: 12px !important;
    line-height: 1.4 !important;
    pointer-events: none !important;
    transform: translate(-50%, -100%) !important; /* Position above cursor */
    margin-top: -10px !important;
    white-space: nowrap !important;
    box-shadow: 0 4px 6px rgba(0,0,0,0.3) !important;
}
.calendar-graph text.month {
    font-size: 10px;
    fill: var(--text-muted) !important;
}

/* Interactive Engineering Path (Dot Style) */
.progression-path {
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: relative;
    max-width: 800px;
    margin: 3rem auto;
    padding: 0 2rem;
}
/* ... existing path styles ... */


.progression-line {
    position: absolute;
    top: 50%;
    left: 40px;
    right: 40px;
    height: 4px;
    background: var(--border);
    z-index: 1;
    transform: translateY(-50%);
}

.progression-dot {
    position: relative;
    z-index: 2;
    width: 24px;
    height: 24px;
    background: var(--card);
    border: 4px solid var(--border);
    border-radius: 50%;
    cursor: pointer;
    transition: all 0.3s ease;
}

.progression-dot.active, .progression-dot:hover {
    border-color: var(--accent);
    transform: scale(1.3);
    background: var(--surface);
    box-shadow: 0 0 0 4px color-mix(in srgb, var(--accent) 20%, transparent);
}

.progression-label {
    position: absolute;
    top: -40px;
    left: 50%;
    transform: translateX(-50%);
    white-space: nowrap;
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--text-muted);
    transition: color 0.3s;
}

.progression-dot.active .progression-label {
    color: var(--accent);
}

.progression-details {
    max-width: 700px;
    margin: 2rem auto;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 2rem;
    text-align: center;
    min-height: 180px;
    position: relative;
}

.progression-info {
    display: none;
    animation: fadeIn 0.4s ease;
}

.progression-info.active {
    display: block;
}

.progression-info h3 {
    color: var(--accent);
    margin-bottom: 1rem;
    font-size: 1.4rem;
}

.progression-info p {
    color: var(--text-muted);
    line-height: 1.7;
    margin-bottom: 1.5rem;
}

.progression-tags {
    display: flex;
    justify-content: center;
    gap: 0.8rem;
    flex-wrap: wrap;
}

/* Fix Project Icons */
.project-link { 
    display: inline-flex;
    justify-content: center;
    align-items: center;
    color: var(--text-muted) !important; 
    font-size: 1.2rem;
    text-decoration: none;
    padding: 8px;
    border-radius: 50%;
    transition: all 0.3s ease;
    width: 40px;
    height: 40px;
    pointer-events: auto; /* Ensure clickable */
    position: relative;
    z-index: 10;
}
.project-link i {
    width: 24px; /* Slightly larger icon */
    height: 24px;
    margin-right: 0; /* Remove margin since no text */
}
.project-link:hover {
    color: var(--accent) !important;
    background: color-mix(in srgb, var(--accent) 10%, transparent);
    transform: scale(1.1);
}

/* Roadmap Styles removed/replaced by new one above if preferred, but leaving as backup if user reverts.
   Effectively replacing the old Engineering Path with the new one in HTML. */

@media (min-width: 1200px) {
  .grid-2 {
    gap: 3rem;
  }
}